<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
    
    .sidenav {
      height: 100%;
      width: 160px;
      position: fixed;
      z-index: 1;
      top: 0;
      left: 0;
      background-color: #111;
      overflow-x: hidden;
      padding-top: 20px;
    }
    
    .sidenav a {
      padding: 6px 8px 6px 16px;
      text-decoration: none;
      font-size: 25px;
      color: #dfd0d0;
      display: block;
    }
    
    .sidenav a:hover {
      color: #f1f1f1;
    }
    
    .main {
      margin-left: 160px; /* Same as the width of the sidenav */
      font-size: 28px; /* Increased text to enable scrolling */
      padding: 0px 10px;
    }
    
    @media screen and (max-height: 450px) {
      .sidenav {padding-top: 15px;}
      .sidenav a {font-size: 18px;}
    }

    table, th, td {
        border:1px solid black;
    }
    </style>
    
    <script src="https://unpkg.com/htmx.org@1.9.11" integrity="sha384-0gxUXCCR8yv9FM2b+U3FDbsKthCI66oH5IA9fHppQq9DDMHuMauqq1ZHBpJxQ0J0" crossorigin="anonymous"></script>

</head>
<body hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'>
    
    <div class="sidenav">
      <a><u>Categories</u></a>
      <a href="../manageemployees/">Employees</a>
      <a href="../managemenu">Menu</a>
      <a><b>Inventory</b></a>
      <a href="../sales">Sales</a>
    </div>

    <div class="main">
        <b><u> Inventory </u></b>

        <br>
        <br>

        Search for an ingredient:
        <input type="text" name = "ingredientname" id="ingredientname" hx-post="{% url 'searchInventory' %}"
        hx-target="#table" hx-include="#ingredientname" hx-trigger="keyup changed"><br>

        <br>
        <div id="table">
        <table>
          <tr>
            <th>Ingredient</th>
            <th>Quantity</th>
          </tr>
          {% for ingredient in ingredients %}
          <tr>
            <td> 
              {{ ingredient.name }} 
              <input type="number" name="amount{{ ingredient.idnumber }}" id="amount{{ ingredient.idnumber }}">
              <button type="button" hx-target="#quantity{{ ingredient.idnumber }}" hx-trigger="click" 
              hx-post="{% url 'quantity' %}" hx-include="#amount{{ ingredient.idnumber }}"
              hx-vars="ingredient:{{ ingredient.idnumber }}"> Submit </button>
            </td>
            <td> <div id="quantity{{ ingredient.idnumber }}"> {{ ingredient.quantity }} </div> </td>
          </tr>
          {% endfor %}
        </table>
        </div>
 
        <br>
        <button type="button" hx-post="{% url 'addIngredient' %}" hx-target="#table"
        hx-include="#ingredientTitle, #ingredientAmount" hx-trigger="click">Add New Ingredient</button>
        <br>
        <label> Ingredient Name </label>
        <input type="text" name="ingredientTitle" id="ingredientTitle">
        <br>
        <label> Ingredient Amount </label>
        <input type="number" name="ingredientAmount" id="ingredientAmount">
        <br>
        <br>
        <button type="button" hx-post="{% url 'removeIngredient' %}" hx-target="#table"
        hx-include="#removedIngredientTitle" hx-trigger="click">Remove Ingredient</button>
        <br>
        <label> Ingredient Name </label>
        <input type="text" name="removedIngredientTitle" id="removedIngredientTitle">
    </div>
</body>