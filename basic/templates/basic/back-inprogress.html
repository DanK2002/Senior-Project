<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://unpkg.com/htmx.org@^1.6.0/dist/htmx.min.js"></script>
    <style>
    
    </style>
</head>
<body>
    <div class="sub-title">
        <h1>In Progress</h1>
    </div>

    <div id="large-box">
        <div class="orders-container">
            {% if in_progress_orders %}
                {% for order in in_progress_orders|dictsortreversed:"time_est" %}
                    <div class="order-box">
                        <form id="order_form_{{ order.id }}" hx-post="{% url 'basic:mark_ready' order.id %}">
                        <h3><b>Order Number: {{ order.number }}</b></h3>
                        <p>Est. Time: {{ order.time_est }}</p>
                        <p>{{ order.message }}</p>
                        <form id="order_form_{{ order.id }}" hx-post="{% url 'basic:mark_ready' order.id %}">
                            {% csrf_token %}
                            <button class="button" type="submit">Ready</button>
                        </form>  
                    </div>
                {% endfor %}
            {% else %}
                <p>No orders in progress.</p>
            {% endif %}
        </div>
    </div>

    <div id="button-container2" hx-target="body" hx-swap="outerHTML">
        <button class="button" hx-get="../back-order/">Back to Menu</button>
    </div>

</body>
</html>